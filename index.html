<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nutrition Tracker</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>Nutrition Tracker</header>
  <div class="container">

    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab(event, 'trackerTab')" data-tab="trackerTab">Tracker</button>
      <button class="tab-btn" onclick="switchTab(event, 'createTab')" data-tab="createTab">Add Food</button>
      <button class="tab-btn" onclick="switchTab(event, 'databaseTab')" data-tab="databaseTab">Food Database</button>
      <button class="tab-btn" onclick="switchTab(event, 'goalsTab')" data-tab="goalsTab">Set Goals</button>
      <button class="tab-btn" onclick="switchTab(event, 'historyTab')" data-tab="historyTab">History</button>
    </div>

    <!-- Tracker Tab -->
    <div id="trackerTab" class="tab-content active">
      <h2>Log Food</h2>
      <input type="text" id="searchInput" placeholder="Search food..." oninput="searchFood()">
      <div id="searchResults"></div>

      <select id="mealType">
        <option value="Breakfast">Breakfast</option>
        <option value="Lunch">Lunch</option>
        <option value="Dinner">Dinner</option>
        <option value="Snack">Snack</option>
      </select>

      <input type="number" id="quantity" placeholder="Quantity">
      <select id="servingType" onchange="toggleCustomWeight()">
        <option value="default">Per 100g</option>
        <option value="custom">Custom Weight</option>
      </select>
      <input type="number" id="customWeight" placeholder="Enter weight (g)">

      <button onclick="addEntry()">Add Entry</button>
      <button onclick="resetLog()">Reset Log</button>
      <button onclick="saveDay()">Save Day</button>

      <h3>Daily Log</h3>
      <table>
        <thead>
          <tr><th>Food</th><th>Meal</th><th>Calories</th><th>Protein</th><th>Qty</th><th>Remove</th></tr>
        </thead>
        <tbody id="logBody"></tbody>
      </table>

      <div class="total-section">
        <strong>Total Calories:</strong> <span id="totalCalories">0</span> kcal<br>
        <strong>Total Protein:</strong> <span id="totalProtein">0</span> g<br>
        <strong>Goal Calories:</strong> <span id="goalCalories">0</span> kcal<br>
        <strong>Goal Protein:</strong> <span id="goalProtein">0</span> g<br>
        <strong>Remaining Calories:</strong> <span id="remainingCalories">0</span> kcal<br>
        <strong>Remaining Protein:</strong> <span id="remainingProtein">0</span> g
      </div>
    </div>

    <!-- Create Food Tab -->
    <div id="createTab" class="tab-content">
      <h2>Add New Food</h2>
      <input type="text" id="newFoodName" placeholder="Food name">
      <input type="number" id="newCalories" placeholder="Calories per 100g">
      <input type="number" id="newProtein" placeholder="Protein per 100g">
      <button onclick="addFoodAndReturn()">Add Food</button>
    </div>

    <!-- Food Database Tab -->
    <div id="databaseTab" class="tab-content">
      <h2>Food Database</h2>
      <input type="text" id="dbSearch" placeholder="Search database..." oninput="searchDatabase()">
      <div id="databaseResults"></div>
    </div>

    <!-- Goals Tab -->
    <div id="goalsTab" class="tab-content">
      <h2>Set Daily Goals</h2>
      <input type="number" id="goalCaloriesInput" placeholder="Calories goal">
      <input type="number" id="goalProteinInput" placeholder="Protein goal (g)">
      <button onclick="saveGoals()">Save Goals</button>
    </div>

    <!-- History Tab -->
    <div id="historyTab" class="tab-content">
      <h2>History</h2>
      <div class="history-tabs">
        <button onclick="switchHistoryView('daily')" class="active">Daily</button>
        <button onclick="switchHistoryView('weekly')">Weekly</button>
        <button onclick="switchHistoryView('monthly')">Monthly</button>
      </div>

      <div id="dailyView" class="history-view active"></div>
      <div id="weeklyView" class="history-view"></div>
      <div id="monthlyView" class="history-view"></div>
    </div>

  </div>

  <footer>&copy; 2025 Nutrition Tracker</footer>
  <script src="script.js"></script>
</body>
</html>
